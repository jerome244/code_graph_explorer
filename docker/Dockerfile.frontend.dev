# docker/Dockerfile.frontend.dev
FROM node:20-alpine
WORKDIR /app

# Install deps (dev included) using the committed lockfile
COPY frontend/package.json frontend/package-lock.json ./
RUN --mount=type=cache,target=/root/.npm npm ci --no-audit --no-fund

# Source is mounted via volume at runtime
EXPOSE 3000

# Compose overrides this with your "npm run dev ..." command
CMD ["npm", "run", "dev", "--", "-p", "3000", "-H", "0.0.0.0"]
