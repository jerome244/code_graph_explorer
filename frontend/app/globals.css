/* =========================================================
   Global Styles — Elegant Slate + Full-bleed Photo Landing
   ========================================================= */

/* ===== Tokens (unified) ===== */
:root{
  --bg:#0a0f1a;
  --surface:#0f1624;
  --text:#e6edf5;
  --muted:#9aa4b2;
  --border:#1f2733;
  --accent:#7aa2ff;
  --accent-strong:#5f8fff;
  --radius:10px;
  --shadow-sm:0 4px 10px rgba(0,0,0,.12);
  --gap:16px;
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic UI",
               "Meiryo", Roboto, "Helvetica Neue", Arial, sans-serif;
  --graph-bg: url("/images/galaxy2.jpg");
}

/* Light theme (optional)
:root[data-theme="light"]{
  --bg:#f7f8fa; --surface:#ffffff; --text:#1b1f24; --muted:#5b6572; --border:#e5e8ee;
  --accent:#275df7; --accent-strong:#1e4fe0;
}
*/

/* ===== Base ===== */
*{ box-sizing:border-box; }
html,body{ height:100%; min-height:100%; margin:0; padding:0; }

body{
  background: transparent;
  color:var(--text);
  font-family:var(--font-sans);
  font-size:clamp(15px,1.5vw,16px);
  line-height:1.65;
  letter-spacing:.01em;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  font-kerning:normal;
  font-feature-settings:"kern" 1, "liga" 1, "palt" 1;
}
a{ color:inherit; text-decoration:none; }
a:hover{ opacity:.92; }

/* ===== Typography ===== */
:where(p){ margin:0 0 .9rem 0; color:var(--muted); }
:where(h1,h2,h3,h4,h5,h6){
  margin:0 0 .5rem 0;
  font-weight:800;
  line-height:1.2;
  letter-spacing:-.01em;
}
:lang(ja) :where(h1,h2,h3){ letter-spacing:0; }
h1{ font-size:clamp(26px,4vw,36px); }
h2{ font-size:clamp(20px,3vw,24px); font-weight:750; }
h3{ font-size:clamp(18px,2.6vw,20px); font-weight:700; }

/* Reading width */
.measure{ max-width:68ch; }
.measure-narrow{ max-width:58ch; }

/* Lead / Sub */
.lead,.sub{ font-size:clamp(16px,1.4vw,18px); line-height:1.7; color:var(--muted); }

/* Section label */
.kicker{
  text-transform:uppercase; font-weight:600; font-size:.75rem;
  letter-spacing:.08em; color:var(--muted); margin-bottom:.25rem;
}

/* Code & numbers */
.num{ font-variant-numeric:tabular-nums; }
code,kbd,pre{
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
  font-size:.95em;
}

/* ===== Layout helpers ===== */
.container{ width:100%; max-width:980px; margin-inline:auto; padding-inline:clamp(16px,3vw,28px); }
.stack{ display:grid; gap:var(--gap); }
.hstack{ display:flex; gap:var(--gap); align-items:center; }

/* Sections */
.section{ padding-block:48px; }
.section-title{ font-size:clamp(22px, 3vw, 28px); margin-bottom:20px; }
.muted{ color:var(--muted); }
.note{ margin-top:12px; font-size:.95em; }

/* Grid helpers */
.grid{ display:grid; gap:var(--gap); }
.grid-2{ grid-template-columns:repeat(2,minmax(0,1fr)); }
.grid-3{ grid-template-columns:repeat(3,minmax(0,1fr)); }
@media (max-width: 900px){
  .grid-3{ grid-template-columns:1fr; }
  .grid-2{ grid-template-columns:1fr; }
}

/* Lists used in cards */
.list{ margin:10px 0 0 0; padding:0 0 0 20px; }
.list li{ margin:6px 0; }

/* ===== Card ===== */
.card{
  background: color-mix(in oklab, var(--surface) 88%, transparent);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-sm);
  padding:0;
}
.card-body{ padding:20px; }
.card-hover{
  transition: transform .2s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.card-hover:hover{
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--accent) 50%, var(--border));
  box-shadow: 0 10px 30px -10px rgba(0,0,0,.45);
}

/* ===== Buttons ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:42px; padding:0 14px; gap:8px;
  border-radius:9px; border:1px solid var(--border);
  background:#1a1f26; color:var(--text);
  font-weight:700; font-size:14px; cursor:pointer; user-select:none;
  transition:background-color .15s ease, border-color .15s ease, transform .06s ease, opacity .15s ease;
}
.btn:hover{ background:#1c2229; }
.btn:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
.btn:active{ transform:translateY(1px); }
.btn--primary{ background:var(--accent); border-color:color-mix(in oklab, var(--accent) 60%, #000); color:#0c1020; }
.btn--primary:hover{ background:var(--accent-strong); }
.btn--ghost{ background:#171b21; color:var(--text); }
.btn--link{ background:transparent; border:0; padding:0 8px; }

/* ===== Top Navigation (transparent over background) ===== */
.nav-wrap{ position:sticky; top:0; z-index:50; padding-block:10px; background:transparent !important; }
.nav{
  background:transparent !important;
  border:1px solid transparent !important;
  border-radius:10px;
  height:56px; display:flex; align-items:center;
  box-shadow:none !important;
}
.nav__inner{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center;
  width:100%; gap:12px; padding-inline:12px;
}
.nav__brand{ display:inline-flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.01em; }
.nav__logo{
  width:20px; height:20px; border-radius:6px;
  background:conic-gradient(from 140deg, var(--accent), #8b5cf6, #06b6d4, var(--accent));
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.22);
}
.nav__links{ display:inline-flex; align-items:center; gap:16px; }
.nav__link{
  display:inline-flex; align-items:center; height:36px; padding:0 10px; border-radius:8px;
  color:var(--text); opacity:.92; font-weight:600; font-size:14px;
  transition:background-color .15s ease, opacity .15s ease;
}
.nav__link:hover{ background:#2a2f36; opacity:1; }
.nav__link.is-active{ background:#2f3540; outline:1px solid color-mix(in oklab, var(--accent) 40%, #000); opacity:1; }
.nav__actions{ display:inline-flex; align-items:center; gap:12px; }
.nav__greet{ font-size:13.5px; font-weight:600; color:var(--muted); }

/* ===== Accessibility & Motion ===== */
:focus-visible{ outline-color:var(--accent); }
@media (prefers-reduced-motion: reduce){ *{ animation:none !important; transition:none !important; } }

/* =========================================================
   Full-bleed Background Layer (visible across all pages)
   ========================================================= */
.bg-wrap{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
}
.bg-landing{
  position:absolute;
  inset:0;
  background-image:url('/images/galaxy.jpg'); /* global galaxy */
  background-repeat:no-repeat;
  background-position:center;
  background-size:cover;
  transform:translateZ(0);
}
/* Optional soft overlay; tweak or remove */
.bg-fade{
  position:absolute;
  inset:0;
  background:
    radial-gradient(1200px 600px at 50% 10%, rgba(0,0,0,.22), transparent 60%),
    linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.28) 40%, rgba(0,0,0,.35));
}

/* Responsive optimization for very tall screens */
@media (max-aspect-ratio: 4/5), (max-width: 640px) {
  .bg-landing{
    background-size:contain;
    background-position:top center;
    background-color:#0a0f1a;
  }
}

/* =========================================================
   Landing — Content
   ========================================================= */
.landing{
  min-height:100vh;
  min-height:100dvh;
  position:relative; overflow:hidden;
  display:grid; place-items:center; color:#fff; padding:64px 24px;
  background: transparent !important;
}
.hero{
  position:relative; z-index:1; text-align:center; max-width:960px;
  margin-inline:auto; display:grid; gap:16px;
}
.title{
  line-height:.95; font-weight:900; margin:0; display:grid; gap:4px;
  font-size:clamp(40px, 7vw, 112px);
  text-shadow:0 2px 8px rgba(0,0,0,.35), 0 8px 24px rgba(0,0,0,.45);
}
.cta{ display:flex; justify-content:center; align-items:center; gap:12px; margin-top:8px; }

/* Staggered title animation */
.title-appear{ will-change:opacity, transform, filter; }
.line-appear{
  display:block; opacity:0; transform:translateY(8px); filter:blur(3px);
  animation:fadeRise 1.6s ease-out both;
}
@keyframes fadeRise{
  0%{ opacity:0; transform:translateY(8px); filter:blur(3px); }
  60%{ opacity:1; transform:translateY(0);   filter:blur(1px); }
  100%{ opacity:1; transform:translateY(0);  filter:blur(0); }
}
@media (prefers-reduced-motion: reduce){
  .line-appear{ animation:none !important; opacity:1; transform:none; filter:none; }
}

/* Gradient accent utility for first word */
.gradient-accent{
  background: linear-gradient(135deg, var(--accent), #8b5cf6 40%, #06b6d4);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

/* =========================================================
   Graph Background (optional utility)
   ========================================================= */
.graph-bg {
  position: relative;
  min-height: 100vh;
  min-height: 100dvh;
  isolation: isolate;
}
.graph-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--graph-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: -2;
}
.graph-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 30% 20%, rgba(0,0,0,0.15), rgba(0,0,0,0.65) 70%);
  z-index: -1;
}
.graph-bg > * { position: relative; z-index: 0; }

/* =========================================================
   Logos section — 3×3 grid with title & subtitle
   ========================================================= */
.logo-section .section-title{
  margin-bottom: 6px;
  text-align: center;
}
.logo-subtitle{
  margin: 0;
  text-align: center;
  color: var(--muted);
  font-size: 0.98rem;
  opacity: .95;
}

/* 3×3 grid */
.logo-row{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-auto-rows: 1fr;
  gap: 20px 24px;
  justify-items: center;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 18px 0 0;
}

/* Logo cards */
.logo-item{
  width: 100%;
  max-width: 260px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid color-mix(in oklab, var(--border) 100%, transparent);
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  transition: transform .15s ease, border-color .15s ease, background .15s ease, opacity .15s ease;
  opacity: .95;
}
.logo-item:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--accent) 35%, var(--border));
  background: color-mix(in oklab, var(--surface) 86%, transparent);
  opacity: 1;
}

/* Logo image size */
.logo-img{
  height: 48px;
  width: auto;
  max-height: none;
  max-width: 100%;
  object-fit: contain;
  filter: grayscale(12%) contrast(105%) brightness(105%);
  transition: filter .15s ease, opacity .15s ease;
  opacity: .96;
}
.logo-item:hover .logo-img{ filter: none; opacity: 1; }

/* =========================================================
   Footer + polish
   ========================================================= */
.divider{
  height:1px;
  background: linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 30%, transparent), transparent);
  opacity:.7;
  border-radius:1px;
}
.footer{ padding-bottom:36px; }
.footer-inner{
  display:grid;
  grid-template-columns:1fr auto;
  gap:24px;
  align-items:start;
}
.footer-title{
  font-size:clamp(18px, 2.2vw, 20px);
  margin:0 0 10px 0;
}
.chip-list{
  display:flex; flex-wrap:wrap; gap:10px;
  padding:0; margin:0; list-style:none;
}
.chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px;
  border-radius:999px;
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  border: 1px solid var(--border);
  font-weight: 600;
  letter-spacing: .01em;
  box-shadow: var(--shadow-sm);
}
.repo-link{
  display:inline-flex; gap:10px; align-items:center;
  text-decoration:none;
}
.repo-link .icon{ opacity:.9; }
.tiny{ font-size:12.5px; }
.center{ text-align:center; margin-top:14px; }

@media (max-width: 720px){
  .footer-inner{ grid-template-columns:1fr; }
}

/* ===== Title landing animation ===== */
.title-landing-anim{
  /* subtle entrance scale on the whole title */
  animation: titlePop .8s cubic-bezier(.2,.7,.2,1) .05s both;
  will-change: transform, filter;
}
@keyframes titlePop{
  0%   { transform: translateY(6px) scale(.985); filter: blur(2px); opacity:.0; }
  60%  { transform: translateY(0)    scale(1.0);  filter: blur(1px); opacity:1; }
  100% { transform: translateY(0)    scale(1.0);  filter: blur(0);   opacity:1; }
}

/* animated shimmer on the last word */
.shimmer-text{
  background: linear-gradient(120deg, var(--text) 0%, #cad5ff 20%, var(--text) 40%) no-repeat;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  background-size: 200% 100%;
  animation: shimmerMove 2.2s ease-in-out 1.1s both;
}
@keyframes shimmerMove{
  0%   { background-position: -120% 0; opacity:.0; transform: translateY(6px); }
  40%  { opacity:1; transform: translateY(0); }
  100% { background-position: 120% 0; }
}

/* reduce motion for accessibility */
@media (prefers-reduced-motion: reduce){
  .title-landing-anim, .shimmer-text{ animation: none !important; transform: none !important; filter: none !important; opacity: 1 !important; }
}

/* ===== Logos section remains 3×3 ===== */
.logo-row{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-auto-rows: 1fr;
  gap: 20px 24px;
  justify-items: center;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 18px 0 0;
}
.logo-item{
  width: 100%;
  max-width: 260px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid color-mix(in oklab, var(--border) 100%, transparent);
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  transition: transform .15s ease, border-color .15s ease, background .15s ease, opacity .15s ease;
  opacity: .95;
}
.logo-item:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--accent) 35%, var(--border));
  background: color-mix(in oklab, var(--surface) 86%, transparent);
  opacity: 1;
}
.logo-img{
  height: 48px;
  width: auto;
  max-height: none;
  max-width: 100%;
  object-fit: contain;
  filter: grayscale(12%) contrast(105%) brightness(105%);
  transition: filter .15s ease, opacity .15s ease;
  opacity: .96;
}
.logo-item:hover .logo-img{ filter: none; opacity: 1; }
